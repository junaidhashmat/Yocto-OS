From de03f96858378bf908a896fa7b4f2f365228c2dd Mon Sep 17 00:00:00 2001
From: Junaid Hashmat <junaid.hashmat12@gmail.com>
Date: Sat, 31 Jan 2026 16:47:26 +0000
Subject: [PATCH] port 1046frywy ddr cfgs to 1046ardp

Upstream-Status: Backport [ DDR settings for ls1046ardb]

---
 plat/nxp/soc-ls1046a/ls1046ardb/ddr_init.c | 16 +++++++---------
 1 file changed, 7 insertions(+), 9 deletions(-)

diff --git a/plat/nxp/soc-ls1046a/ls1046ardb/ddr_init.c b/plat/nxp/soc-ls1046a/ls1046ardb/ddr_init.c
index b9940cfa4..331e2f78e 100644
--- a/plat/nxp/soc-ls1046a/ls1046ardb/ddr_init.c
+++ b/plat/nxp/soc-ls1046a/ls1046ardb/ddr_init.c
@@ -216,15 +216,13 @@ int ddr_board_options(struct ddr_info *priv)
 		return ret;
 	}
 
-	popts->wrlvl_override = U(1);
-	popts->wrlvl_sample = U(0x0);	/* 32 clocks */
-	popts->cpo_sample = U(0x61);
-	popts->ddr_cdr1 = DDR_CDR1_DHC_EN	|
-			  DDR_CDR1_ODT(DDR_CDR_ODT_80ohm);
-	popts->ddr_cdr2 = DDR_CDR2_ODT(DDR_CDR_ODT_80ohm)	|
-			  DDR_CDR2_VREF_TRAIN_EN		|
-			  DDR_CDR2_VREF_RANGE_2;
-	popts->bstopre = U(0);
+	popts->bstopre = 0;
+	popts->half_strength_drive_en = 1;
+	popts->cpo_sample = U(0x46);
+	popts->ddr_cdr1 = DDR_CDR1_DHC_EN | DDR_CDR1_ODT(DDR_CDR_ODT_50ohm);
+	popts->ddr_cdr2 = DDR_CDR2_ODT(DDR_CDR_ODT_50ohm) |
+				DDR_CDR2_VREF_TRAIN_EN;
+	popts->output_driver_impedance = 1;
 
 	return 0;
 }
-- 
2.34.1

